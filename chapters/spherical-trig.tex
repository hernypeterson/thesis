\chapter{Spherical Trigonometry}\label{app:spherical-trig}
\section{Great Circle Distance}
Let two poles be defined in attitude space $(\theta,\varphi,\rho)$ on the unit sphere $(\rho=1)$ by:
\begin{equation}
    p=(\theta_p,\varphi_p,1)\qquad q=(\theta_q,\varphi_q,1).
\end{equation}
Let a cartesian coordinate system $(x,y,z)$ be defined such that $\hat x$ is parallel to $\theta_p$, $\hat y$ is \ang{90} counter-clockwise from $\hat x$, and $\hat z$ is parallel to the spherical zenith. Then, $p$ and $q$ take the following form: % as shown in Figure~\ref{fig:spherical-cosines}
\begin{equation}
    p=
    \begin{bmatrix}
        \sin\varphi_p\\
        0\\
        \cos\varphi_p
    \end{bmatrix}
    \qquad
    q=
    \begin{bmatrix}
        \sin\varphi_q\cos\beta\\
        \sin\varphi_q\sin\beta\\
        \cos\varphi_q
    \end{bmatrix},
\end{equation}
where $\beta=\theta_q-\theta_p$. I use the dot product compute the central angle $\alpha$ subtended by $p$ and $q$:
\begin{equation}
    p\cdot q
    =\|p\|\,\|q\|\cos\alpha
    =p_{x}q_{x}
    +p_{y}q_{y}
    +p_{z}q_{z}.\label{eq:dot-product}
\end{equation}
Since $\|p\|=\|q\|=1$ by construction, Equation~\eqref{eq:dot-product} reduces to:
\begin{gather}
    \cos\alpha
    =\sin\varphi_p\sin\varphi_q\cos\beta
    +\cos\varphi_p\cos\varphi_q,\nonumber\\
    \alpha
    =\arccos(\sin\varphi_p\sin\varphi_q\cos\beta
    +\cos\varphi_p\cos\varphi_q).
\end{gather}

% \begin{figure}
%     \begin{center}
%         \input{figures/spherical-cosines.tex}%
%         \caption[Spherical law of cosines]{Geometric view of spherical law of cosines}%
%         \label{fig:spherical-cosines}%
%     \end{center}
% \end{figure}
\section{Great Circle Projection}
In Section~\ref{sec:tilt-from-map} (specifically Equation~\ref{eq:tilt-from-map}), I need to project a certain pole $q$ directly onto a certain vertically oriented great circle (constant $\theta$). Specifically, this projection is perpendicular to the great circle, so the distance between the great circle and the pole is minimized. This optimization problem can be solved for a given $\theta=\theta_p$ for the great circle and ($\varphi_q, \theta_q$) for the pole. Specically, for constant $\beta=|\theta_p-\theta_p|$ and $\varphi_q$, the value of $\varphi_p$ which minimizes $\alpha$ (great circle distance) can be calculated by setting:
\begin{equation}
    \frac{\partial}{\partial \varphi_p}
    \arccos\left(\sin\varphi_p\sin\varphi_q\cos\beta
    +\cos\varphi_p\cos\varphi_q\right)
    =0.
\end{equation}
Differentiating using the chain rule,
\begin{equation}
    \frac{-\,(\cos\varphi_p\sin\varphi_q
    \cos\beta-\sin\varphi_p\cos\varphi_q)}
    {\sqrt{1-{(\sin\varphi_p\sin\varphi_q\cos\beta
    +\cos\varphi_p\cos\varphi_q)}^2}}
    =0.
\end{equation}
Multiplying through by the denominator and rearranging to solve for $\varphi_p$:
\begin{gather}
    \cos\varphi_p\sin\varphi_q
    \cos\beta-\sin\varphi_p\cos\varphi_q
    =0,\nonumber\\
    \frac{\sin\varphi_q
    \cos\beta}
    {\cos\varphi_q}
    =\frac{\sin\varphi_p}{\cos\varphi_p},\nonumber\\
    \varphi_p
    =\arctan(\tan\varphi_q
    \cos\beta).
\end{gather}

% \footnote{The denominator in Equation~\eqref{eq:derivative} is zero when \acs{tilt_min} is \ang{0} or \ang{180}, that is, when q and \acs{normal1} are equal or antipodal. The $q=\acs{normal1}$ case behaves as desired in Equation~\eqref{eq:robust-ze'} because $q=\acs{normal1}\implies\cos\beta=1\implies\varphi_p=\arctan(\tan\varphi_q\cdot1)=\varphi_q$. The antipodal case is unphysical.}